{
    "collab_server" : "",
    "contents" : "download.file('https://www.jaredlander.com/data/acs_ny.csv',\n              destfile='acs_ny.csv')\n\nacs <- read.table('acs_ny.csv', header=TRUE, sep=',', stringsAsFactors=FALSE)\n\nincome1 <- lm(FamilyIncome ~ FamilyType + NumBedrooms + NumPeople, data=acs)\n\nlibrary(coefplot)\ncoefplot(income1, sort='mag')\n\nlibrary(RevoScaleR)\n\nlibrary(dplyr)\n\nacs <- acs %>% \n  mutate(FamilyType=factor(FamilyType))\n\nincome2 <- rxLinMod(FamilyIncome ~ FamilyType + NumBedrooms + NumPeople,\n                    data=acs, \n                    dropFirst=TRUE, coefLabelStyle=\"Revo\")\nincome2\nsummary(income1)\nsummary(income2)\n\ncoefplot(income2, sort='mag')\n\n\ndownload.file('https://www.jaredlander.com/data/manhattan_Train.csv',\n              destfile='manhattan_Train.csv')\n\n\nlots <- RxXdfData('lots.xdf')\nrxTextToXdf(inFile='manhattan_Train.csv',\n            outFile=lots,\n            overwrite=TRUE, stringsAsFactors=TRUE,\n            rowsPerRead=7000)\n\nlots\nhead(lots)\n\nrxGetInfo(lots)\nrxSummary(~., lots)\nrxSummary(~ TotalValue + FireService + LotArea, data=lots)\nrxGetVarInfo(lots)\nrxHistogram(~ TotalValue, data=lots)\n\nlibrary(dplyrXdf)\n\nlots %>% \n  count(FireService) %>% \n  collect()\n\nlots %>% \n  group_by(FireService) %>% \n  summarize(AvgPrice=mean(TotalValue, na.rm=TRUE)) %>% \n  collect()\n\nvalue1 <- rxLinMod(TotalValue ~ LotArea + FireService + HistoricDistrict,\n                   data=lots)\ncoefplot(value1, plot=FALSE)\nclass(value1)\nsummary(value1)\ncoefplot(value1, sort='mag')\n\nrxPredict\n\ntail(head(acs, n=4), n=1)\nacs %>% head(n=4) %>% tail(n=1)\n\nlots <- lots %>% \n  mutate(AreaCentered=LotArea - mean(LotArea, na.rm=TRUE)) %>% \n  persist(lots)\n\nhead(lots)\n\nvalue2 <- lots %>% \n  # mutate(AreaCentered=LotArea - mean(LotArea, na.rm=TRUE)) %>% \n  rxLinMod(TotalValue ~ FireService + HistoricDistrict + AreaCentered, data=.)\n\ncoefplot(value2, sort='mag')\n\nrxPredict(modelObject=value1, data=lots, outData=lots, overwrite=TRUE, \n          type='response', computeResiduals=TRUE, \n          predVarNames='Fitted', residVarNames='Resids')\nhead(lots)\n\n\nrxPredict(modelObject=value2, data=lots, outData=lots, overwrite=TRUE, \n          type='response', computeResiduals=TRUE,\n          predVarNames='Fitted2', residVarNames='Resids2')\nhead(lots)\n\nrxSetComputeContext(RxLocalParallel())\nvalue3 <- lots %>% \n  # mutate(AreaCentered=LotArea - mean(LotArea, na.rm=TRUE)) %>% \n  rxLinMod(TotalValue ~ FireService + HistoricDistrict + AreaCentered, data=.)",
    "created" : 1507124425943.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1216449737",
    "id" : "4C26C50E",
    "lastKnownWriteTime" : 1507239289,
    "last_content_update" : 1507239289737,
    "path" : "~/BigModel/rxLinMod.r",
    "project_path" : "rxLinMod.r",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}